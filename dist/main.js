(()=>{"use strict";const e=[{id:1,type:"radio",question:"–î–ª—è –∫–æ–≥–æ –≤—ã –∏—â–µ—Ç–µ —É—á–µ–±–Ω–æ–µ –∑–∞–≤–µ–¥–µ–Ω–∏–µ?",answers:[{id:1,value:"–°–µ–±–µ"},{id:2,value:"–°—É–ø—Ä—É–≥—É/—Å—É–ø—Ä—É–≥–µ"},{id:3,value:"–†–æ–¥—Å—Ç–≤–µ–Ω–Ω–∏–∫—É"},{id:4,value:"–ö–æ–ª–ª–µ–≥–µ"},{id:5,value:"–†–µ–±–µ–Ω–∫—É"},{id:6,value:"–î—Ä—É–≥–æ–µ"}]},{id:2,type:"checkbox",question:"–í –∫–∞–∫–æ–º –≥–æ—Ä–æ–¥–µ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç–µ –ø–æ—Å—Ç—É–ø–∞—Ç—å?",answers:[{id:1,value:"–ú–æ—Å–∫–≤–∞"},{id:2,value:"–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥"},{id:3,value:"–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫"},{id:4,value:"–ù–∏–∂–Ω–∏–π –ù–æ–≤–≥–æ—Ä–æ–¥"},{id:5,value:"–†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É"},{id:6,value:"–î—Ä—É–≥–æ–π"}],placeholder:"–ì–æ—Ä–æ–¥"},{id:3,type:"radio",question:"–ö–∞–∫–æ–µ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —É–∂–µ –µ—Å—Ç—å?",answers:[{id:1,value:"9 –∫–ª–∞—Å—Å–æ–≤"},{id:2,value:"–ö–æ–ª–ª–µ–¥–∂/—Ç–µ—Ö–Ω–∏–∫—É–º"},{id:3,value:"11 –∫–ª–∞—Å—Å–æ–≤"},{id:4,value:"–£—á–∏–ª–∏—â–µ"},{id:5,value:"–ù–µ–æ–∫–æ–Ω—á–µ–Ω–Ω–æ–µ –≤—ã—Å—à–µ–µ"},{id:6,value:"–í—ã—Å—à–µ–µ"}]},{id:4,type:"radio",question:"–ö—É–¥–∞ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç–µ –ø–æ—Å—Ç—É–ø–∞—Ç—å?",answers:[{id:1,value:"–í—É–∑"},{id:2,value:"–ö–æ–ª–ª–µ–¥–∂/—Ç–µ—Ö–Ω–∏–∫—É–º"},{id:3,value:"–£—á–∏–ª–∏—â–µ"}]},{id:5,type:"radio",question:"–ö–∞–∫—É—é —Ñ–æ—Ä–º—É –æ–±—É—á–µ–Ω–∏—è –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç–µ?",answers:[{id:1,value:"–û—á–Ω—É—é"},{id:2,value:"–ó–∞–æ—á–Ω—É—é"},{id:3,value:"–î–∏—Å—Ç–∞–Ω—Ü–∏–æ–Ω–Ω—É—é"}]},{id:6,type:"radio",question:"–†–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç–µ –ø–ª–∞—Ç–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ?",answers:[{id:1,value:"–ù–µ—Ç, —Ç–æ–ª—å–∫–æ –±—é–¥–∂–µ—Ç"},{id:2,value:"–î–∞, –ø–ª–∞–Ω–∏—Ä—É—é —É—á–∏—Ç—å—Å—è –ø–ª–∞—Ç–Ω–æ"},{id:3,value:"–í–æ–∑–º–æ–∂–Ω—ã –æ–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞"}]},{id:7,type:"checkbox",question:"–ö–∞–∫–∞—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç?",answers:[{id:1,value:"–≠–∫–æ–Ω–æ–º–∏–∫–∞"},{id:2,value:"–§–∏–ª–æ—Å–æ—Ñ–∏—è"},{id:3,value:"–°–æ—Ü–∏–æ–ª–æ–≥–∏—è"},{id:4,value:"–ú–µ–Ω–µ–¥–∂–º–µ–Ω—Ç"},{id:5,value:"–õ—é–±–∞—è"}],placeholder:"–°–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å"},{id:8,type:"radio",question:"–ö–∞–∫ —Å–∫–æ—Ä–æ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç–µ –ø–æ—Å—Ç—É–ø–∞—Ç—å?",answers:[{id:1,value:"–ö–∞–∫ –º–æ–∂–Ω–æ –±—ã—Å—Ç—Ä–µ–µ"},{id:2,value:"–ú–µ—Å—è—Ü"},{id:3,value:"–ö–≤–∞—Ä—Ç–∞–ª"},{id:4,value:"–ü–æ–ª–≥–æ–¥–∞"},{id:5,value:"–ì–æ–¥"}]}];function t(e,t){var i=function(e){for(var t=e.split(/([.#])/),i="",n="",r=1;r<t.length;r+=2)switch(t[r]){case".":i+=" "+t[r+1];break;case"#":n=t[r+1]}return{className:i.trim(),tag:t[0]||"div",id:n}}(e),n=i.tag,r=i.id,s=i.className,o=t?document.createElementNS(t,n):document.createElement(n);return r&&(o.id=r),s&&(t?o.setAttribute("class",s):o.className=s),o}function i(e,t){var i=m(e),r=m(t);return t===r&&r.__redom_view&&(t=r.__redom_view),r.parentNode&&(n(0,r,i),i.removeChild(r)),t}function n(e,t,i){var n=t.__redom_lifecycle;if(r(n))t.__redom_lifecycle={};else{var s=i;for(t.__redom_mounted&&l(t,"onunmount");s;){var o=s.__redom_lifecycle||{};for(var u in n)o[u]&&(o[u]-=n[u]);r(o)&&(s.__redom_lifecycle=null),s=s.parentNode}}}function r(e){if(null==e)return!0;for(var t in e)if(e[t])return!1;return!0}var s=["onmount","onremount","onunmount"],o="undefined"!=typeof window&&"ShadowRoot"in window;function u(e,t,i,r){var u=m(e),a=m(t);t===a&&a.__redom_view&&(t=a.__redom_view),t!==a&&(a.__redom_view=t);var d=a.__redom_mounted,_=a.parentNode;if(d&&_!==u&&n(0,a,_),null!=i)if(r){var c=m(i);c.__redom_mounted&&l(c,"onunmount"),u.replaceChild(a,c)}else u.insertBefore(a,m(i));else u.appendChild(a);return function(e,t,i,n){for(var r=t.__redom_lifecycle||(t.__redom_lifecycle={}),u=i===n,a=!1,d=0,_=s;d<_.length;d+=1){var c=_[d];u||e!==t&&c in e&&(r[c]=(r[c]||0)+1),r[c]&&(a=!0)}if(a){var h=i,p=!1;for((u||h&&h.__redom_mounted)&&(l(t,u?"onremount":"onmount"),p=!0);h;){var f=h.parentNode,v=h.__redom_lifecycle||(h.__redom_lifecycle={});for(var m in r)v[m]=(v[m]||0)+r[m];if(p)break;(h.nodeType===Node.DOCUMENT_NODE||o&&h instanceof ShadowRoot||f&&f.__redom_mounted)&&(l(h,u?"onremount":"onmount"),p=!0),h=f}}else t.__redom_lifecycle={}}(t,a,u,_),t}function l(e,t){"onmount"===t||"onremount"===t?e.__redom_mounted=!0:"onunmount"===t&&(e.__redom_mounted=!1);var i=e.__redom_lifecycle;if(i){var n=e.__redom_view,r=0;for(var s in n&&n[t]&&n[t](),i)s&&r++;if(r)for(var o=e.firstChild;o;){var u=o.nextSibling;l(o,t),o=u}}}function a(e,t,i){e.style[t]=null==i?"":i}var d="http://www.w3.org/1999/xlink";function _(e,t,i,n){var r=m(e);if("object"==typeof t)for(var s in t)_(r,s,t[s],n);else{var o=r instanceof SVGElement,u="function"==typeof i;if("style"===t&&"object"==typeof i)!function(e,t,i){var n=m(e);if("object"==typeof t)for(var r in t)a(n,r,t[r]);else a(n,t,void 0)}(r,i);else if(o&&u)r[t]=i;else if("dataset"===t)h(r,i);else if(o||!(t in r)&&!u||"list"===t){if(o&&"xlink"===t)return void c(r,i);n&&"class"===t&&(i=r.className+" "+i),null==i?r.removeAttribute(t):r.setAttribute(t,i)}else r[t]=i}}function c(e,t,i){if("object"==typeof t)for(var n in t)c(e,n,t[n]);else null!=i?e.setAttributeNS(d,t,i):e.removeAttributeNS(d,t,i)}function h(e,t,i){if("object"==typeof t)for(var n in t)h(e,n,t[n]);else null!=i?e.dataset[t]=i:delete e.dataset[t]}function p(e){return document.createTextNode(null!=e?e:"")}function f(e,t,i){for(var n=0,r=t;n<r.length;n+=1){var s=r[n];if(0===s||s){var o=typeof s;"function"===o?s(e):"string"===o||"number"===o?e.appendChild(p(s)):w(m(s))?u(e,s):s.length?f(e,s,i):"object"===o&&_(e,s,null,i)}}}function v(e){return"string"==typeof e?y(e):m(e)}function m(e){return e.nodeType&&e||!e.el&&e||m(e.el)}function w(e){return e&&e.nodeType}function y(e){for(var i,n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];var s=typeof e;if("string"===s)i=t(e);else{if("function"!==s)throw new Error("At least one argument required");var o=e;i=new(Function.prototype.bind.apply(o,[null].concat(n)))}return f(m(i),n,!0),i}var b=y;function q(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];for(var r=g(e,t,m(e).firstChild);r;){var s=r.nextSibling;i(e,r),r=s}}function g(e,t,i){for(var n=i,r=Array(t.length),s=0;s<t.length;s++)r[s]=t[s]&&m(t[s]);for(var o=0;o<t.length;o++){var l=t[o];if(l){var a=r[o];if(a!==n)if(w(a)){var d=n&&n.nextSibling,_=null!=l.__redom_index&&d===r[o+1];u(e,l,n,_),_&&(n=d)}else null!=l.length&&(n=g(e,l,n));else n=n.nextSibling}}return n}y.extend=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return y.bind.apply(y,[this].concat(e))};var S=function(e,t,i){this.View=e,this.initData=i,this.oldLookup={},this.lookup={},this.oldViews=[],this.views=[],null!=t&&(this.key="function"==typeof t?t:function(e){return function(t){return t[e]}}(t))};S.prototype.update=function(e,t){for(var i=this,n=i.View,r=i.key,s=i.initData,o=null!=r,u=this.lookup,l={},a=Array(e.length),d=this.views,_=0;_<e.length;_++){var c=e[_],h=void 0;if(o){var p=r(c);h=u[p]||new n(s,c,_,e),l[p]=h,h.__redom_id=p}else h=d[_]||new n(s,c,_,e);h.update&&h.update(c,_,e,t),m(h.el).__redom_view=h,a[_]=h}this.oldViews=d,this.views=a,this.oldLookup=u,this.lookup=l};var x=function(e,t,i,n){this.View=t,this.initData=n,this.views=[],this.pool=new S(t,i,n),this.el=v(e),this.keySet=null!=i};x.prototype.update=function(e,t){void 0===e&&(e=[]);var n=this.keySet,r=this.views;this.pool.update(e,t);var s=this.pool,o=s.views,u=s.lookup;if(n)for(var l=0;l<r.length;l++){var a=r[l];null==u[a.__redom_id]&&(a.__redom_index=null,i(this,a))}for(var d=0;d<o.length;d++)o[d].__redom_index=d;q(this,o),n&&(this.lookup=u),this.views=o},x.extend=function(e,t,i,n){return x.bind(x,e,t,i,n)};var k="http://www.w3.org/2000/svg";function z(e){for(var i,n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];var s=typeof e;if("string"===s)i=t(e,k);else{if("function"!==s)throw new Error("At least one argument required");var o=e;i=new(Function.prototype.bind.apply(o,[null].concat(n)))}return f(m(i),n,!0),i}z.extend=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return z.bind.apply(z,[this].concat(e))},z.ns=k;class A{constructor({currentStep:e,stepsCount:t,onSubmit:i}){this.submitBtn=b("button.btn form__button","–û—Ç–ø—Ä–∞–≤–∏—Ç—å"),this.submitBtn.addEventListener("click",(e=>{e.preventDefault(),i&&i()})),this._html=b("form.form quiz__form",[b(".form__top-panel",[b("h2.form__title","–í–∞—à–∞ –ø–æ–¥–±–æ—Ä–∫–∞ –≥–æ—Ç–æ–≤–∞! ü•≥ –ö—É–¥–∞ –Ω–∞–º –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –µ—ë?"),b(".form__step-counter",`–®–∞–≥ ${e}/${t}`)]),b(".form__main",[b(".form__input-wraper",[b("input.input form__input",{type:"text",placeholder:"–ö–∞–∫ –í–∞—Å –∑–æ–≤—É—Ç?"})]),b(".form__input-wraper",[b("input.input form__input",{type:"text",placeholder:"–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞"})]),b(".form__input-wraper",[b("input.input form__input",{type:"text",placeholder:"E-mail"})]),this.submitBtn,b("p.form__accept-text","–ù–∞–∂–∏–º–∞—è –Ω–∞ –∫–Ω–æ–ø–∫—É, –≤—ã –¥–∞–µ—Ç–µ —Å–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É —Å–≤–æ–∏—Ö ",b("a.form__link","–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö",{href:"#"}))])])}get html(){return this._html}}const C=new class{_questions;userAnswers={};constructor(e,t){this._title=e,this._description=t,this._question=b(".quiz__question"),this._answers=b("ul.quiz__answers-list",[]),this._btnPrev=b("button.btn quiz__btn-prev","–ù–∞–∑–∞–¥"),this._btnNext=b("button.btn quiz__btn-next","–î–∞–ª–µ–µ"),this._btnPrev.addEventListener("click",(()=>this.prevStep())),this._btnNext.addEventListener("click",(()=>this.nextStep())),this.currentStep=1,this.stepsCount=0,this.stepCounter=b(".quiz__step-counter",`–®–∞–≥ ${this.currentStep}/${this.stepsCount}`),this._html=b(".container",b(".quiz",[b(".quiz__description",[b("h1.quiz__title",this._title),b("p.quiz__description-text",this._description),b(".quiz__picture",[b(".quiz__picture-background"),b(".quiz__picture-badge-time","–∑–∞ 30 —Å–µ–∫—É–Ω–¥"),b(".quiz__picture-badge-price","–ë–µ—Å–ø–ª–∞—Ç–Ω–æ"),b(".quiz__picture-circle")])]),b(".quiz__steps",[b(".quiz__steps-top-panel",[this._question,this.stepCounter]),b(".quiz__steps-middle-panel",this._answers),b(".quiz__steps-bottom-panel",[this._btnPrev,this._btnNext])])]))}get html(){return this._html}get questions(){return this._questions}set questions(e){this._questions=e,this.stepsCount=e.length+1,this.refresh()}prevStep(){this.currentStep>1&&(this.currentStep-=1,this.refresh())}nextStep(){this.currentStep<=this.stepsCount&&(this.currentStep+=1,this.refresh())}refresh(){if(this.currentStep===this.stepsCount){const e=new A({currentStep:this.currentStep,stepsCount:this.stepsCount,onSubmit:()=>{alert(this.userAnswers)}});document.querySelector(".quiz__steps").replaceChildren(e.html)}else{this.setPrevBtnVisibility(),this.setNextBtnEnaled();const e=this._questions[this.currentStep-1];this._question.innerText=e?.question,this.stepCounter.innerText=`–®–∞–≥ ${this.currentStep}/${this.stepsCount}`;const t=document.querySelector(".quiz__steps-middle-panel");if("checkbox"===e.type){const i=b("ul.listreset dropdown__list"),n=b(".dropdown__menu",i),r=b("button.btn dropdown__button",e?.placeholder),s=b(".dropdown quiz__dropdown",[r,n]);t.replaceChild(s,this._answers);for(const t of e?.answers){const n=b("input.input",{type:"checkbox",value:t.id});n.addEventListener("change",(()=>{this.setUserAnswer(!0);let t="";const i=this.userAnswers[e.id];if(0===i.length)t=e.placeholder;else{const n=e.answers.filter((e=>i.includes(e.id.toString()))).map((e=>e.value));t=1===i.length?n[0]:2===i.length?`${n[0]} –∏ ${n[1]}`:`${n[0]}, ${n[1]} –∏ –µ—â—ë ${i.length-2}`}r.innerText=t}));const s=b("li.dropdowd__list-item",b("label.dropdown__list-item-label",t.value,[n,b("span.checkmark")]));i.append(s)}this._answers=s}else{const i=b("ul.quiz__answers-list");t.replaceChild(i,this._answers),this._answers=i;for(const t of e?.answers){const i=b("input.input quiz__input",{type:e.type,value:t.id,name:"quiz",id:`quiz${t.id}`});i.addEventListener("change",(()=>this.setUserAnswer()));const n=b("li.quiz__answer",[i,b("label.quiz__answer-label",{for:`quiz${t.id}`},t.value),b("span.checkmark")]);this._answers.append(n)}}this.setCheckedValues(),this.setAnswerListColumns()}}setUserAnswer(e=!1){const t=this._questions[this.currentStep-1];let i;i=e?[...document.querySelectorAll(".input:checked")].map((e=>e.value)):document.querySelector('input[name="quiz"]:checked').value,this.userAnswers[t.id]=i,this.setNextBtnEnaled()}setNextBtnEnaled(){const e=this._questions[this.currentStep-1];let t=!0;const i=Array.isArray(this.userAnswers[e.id]);this.userAnswers.hasOwnProperty(e.id)&&(i&&0!==this.userAnswers[e.id].length||!i&&this.userAnswers[e.id])&&(t=!1),this._btnNext.toggleAttribute("disabled",t)}setCheckedValues(){const e=this._questions[this.currentStep-1],t=this.userAnswers[e.id];if(t){const e=[];for(const i of t)e.push(document.querySelector(`input[value='${i}']`));e.forEach((e=>e.checked=!0))}}setPrevBtnVisibility(){this._btnPrev.hidden=!(this.currentStep>1)}setAnswerListColumns(){const e=this._questions[this.currentStep-1];this._answers.classList.toggle("quiz__answers-list--single-column",e.answers.length<4)}}("–ü–æ–¥–±–µ—Ä—ë–º –≤—É–∑ –º–µ—á—Ç—ã","–û—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ 8 –ø—Ä–æ—Å—Ç—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤, –∏ –º—ã —Å–æ—Å—Ç–∞–≤–∏–º —Å–ø–∏—Å–æ–∫ –Ω–∞–±–æ–ª–µ–µ –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö –¥–ª—è –≤–∞—Å –≤—É–∑–æ–≤");document.body.appendChild(C.html),async function(){return e}().then((e=>{C.questions=e}))})();